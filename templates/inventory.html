{% extends "base.html" %}

{% block content %}
<div class="inventory-container">
    <h2>Your Marine Creature Collection</h2>
    
    <div class="inventory-stats">
        <div class="stat-item">
            <h3>Total Creatures</h3>
            <span class="stat-number">{{ inventory|length }}</span>
        </div>
        <div class="stat-item">
            <h3>Common</h3>
            <span class="stat-number">
                {% set common_count = inventory|selectattr('rarity', 'equalto', 'common')|list|length %}
                {{ common_count }}
            </span>
        </div>
        <div class="stat-item">
            <h3>Rare</h3>
            <span class="stat-number">
                {% set rare_count = inventory|selectattr('rarity', 'equalto', 'rare')|list|length %}
                {{ rare_count }}
            </span>
        </div>
        <div class="stat-item">
            <h3>Epic</h3>
            <span class="stat-number">
                {% set epic_count = inventory|selectattr('rarity', 'equalto', 'epic')|list|length %}
                {{ epic_count }}
            </span>
        </div>
        <div class="stat-item">
            <h3>Legendary</h3>
            <span class="stat-number">
                {% set legendary_count = inventory|selectattr('rarity', 'equalto', 'legendary')|list|length %}
                {{ legendary_count }}
            </span>
        </div>
    </div>

    {% if inventory %}
    <div class="inventory-grid">
    {% for creature in inventory %}
    <div class="creature-card {{ creature.rarity }}">
        <div class="creature-image">
            <img src="{{ url_for('static', filename=creature.image) }}" 
            alt="{{ creature.name }}"
            class="inventory-image">
        </div>
        <h4 class="creature-name">{{ creature.name }}</h4>
        <p class="rarity {{ creature.rarity }}">{{ creature.rarity|title }}</p>
        <p class="creature-description">{{ creature.description }}</p>
    </div>
    {% endfor %}
    </div> 
    {% else %}
    <div class="no-creatures">
        <div class="empty-state">
            <div class="empty-icon">ðŸŒŠ</div>
            <h3>No creatures yet!</h3>
            <p>Go to the Gacha section to pull your first marine creature.</p>
            <a href="{{ url_for('gacha') }}" class="ocean-button">Go to Gacha</a>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}